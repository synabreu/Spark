#### 1.3.3 아파치 스파크 새 기능 소개

##### 아파치 스파크 3.0에는 새롭고 주목할만한 기능이 많이 있습니다. 그러나 간단하게 몇 가지만 언급하자면 데이터 분석 여정의 초기 단계에서 매우 유용하게 쓸 수 있습니다.

  - ##### 속도(speed): 아파치 스파크 3.0은 이전 버전보다 훨씬 빠릅니다. 다양한 벤치마크에 따르면, 스파크 3.0은 특정 유형의 워크로드에 대해 2~17배 더 빠릅니다.

  - ##### 적응형 쿼리 실행(Adaptive Query Execution): 스파크 SQL 엔진은 사용자 코드와 소스 데이터에 대해 이전에 수집된 통계를 기반으로 몇 가지 논리적 및 물리적 쿼리 실행 계획을 생성합니다. 그런 다음 가장 최적의 실행 계획을 선택하려고 합니다. 그러나 통계가 오래되었거나 존재하지 않아 최적의 성능이 나오지 않기 때문에 스파크가 가능한 최상의 실행 계획을 생성할 수 없는 경우가 있습니다. 적응형 쿼리 실행을 통해 스파크는 런타임 중에 실행 계획을 동적으로 조정하고 최상의 쿼리 성능을 제공할 수 있습니다.

  - ##### 동적 파티션 정리(Dynamic Partition Pruning): 비즈니스 인텔리전스 시스템 및 데이터 웨어하우스는 **차원 모델링(Dimensional Modeling)**이라는 데이터 모델링 기술을 따릅니다. 여기서 데이터는 몇 개의 차원 테이블로 둘러싸인 중앙 팩트 테이블에 저장됩니다. 이러한 차원 모델을 활용하는 비즈니스 인텔리전스 유형의 쿼리에는 차원 테이블에 대한 다양한 필터 조건과 함께 차원과 팩트 테이블 간의 다중 조인이 포함된 쿼리가 포함됩니다. 동적 파티션 정리를 통해 스파크는 이러한 차원에 적용된 필터를 기반으로 모든 팩트 테이블 파티션을 필터링할 수 있으므로 메모리로 읽는 데이터가 줄어들고 결과적으로 쿼리 성능이 향상됩니다.

  - ##### 쿠버네티스 지원: 앞서 스파크가 자체 독립형 클러스터 관리자와 함께 제공되며, YARN 및 Mesos와 같은 다른 인기 있는 리소스 관리자와도 동작합니다. 이제 스파크 3.0은 병렬 컨테이너 서비스를 실행하고 관리하기 위한 인기 있는 오픈 소스 프레임워크인 **쿠버네티스(Kubernetes)**를 기본적으로 지원합니다.

##### 개인적으로 쿠버네티스 지원하는 것이 아파치 스파크 3.0의 새로운 매력이 아닌가 싶습니다. 스파크 배포 및 관리에서 실시간으로 좀더 관리가 편해졌기 때문입니다.
